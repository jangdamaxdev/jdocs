---
description: Tìm hiểu cách nâng cấp giao diện node editor với rete-connection-path-plugin và d3-shape, đồng thời tạo đường nối tùy chỉnh dễ dàng với hướng dẫn này
keywords: path,connection path,curve,step,bezier
---

# Connection path

::alert
Hướng dẫn này dựa trên [Basic](/docs/guides/basic). Bạn nên xem qua để hiểu tổng thể trước khi đọc hướng dẫn này.
::
::references
:ref-example{title="Connection path" link="/examples/connection-path"}
:ref-github{title="Plugin" link="https://github.com/retejs/connection-path-plugin"}
::

## Cài đặt dependencies {#install-dependencies}

:kit

```bash
npm i rete-connection-path-plugin d3-shape
```

## Kết nối plugin {#connect-plugin}

Phương thức `curveStep` được sử dụng cho tất cả connection trong ví dụ này. Lưu ý plugin phải được liên kết với plugin render, plugin render phải phát sự kiện `connectionpath`.

```ts
import { ConnectionPathPlugin } from "rete-connection-path-plugin";
import { curveStep } from "d3-shape";

const pathPlugin = new ConnectionPathPlugin<Schemes, Area2D<Schemes>>({
  curve: () => curveStep,
});

render.use(pathPlugin);
```

## Đường nối riêng cho từng connection {#connection-specific}

Option `curve` nhận một hàm callback với instance connection là tham số đầu tiên, cho phép bạn tùy chỉnh kiểu đường nối.

```ts
import { curveStep, curveMonotoneX, curveLinear, CurveFactory } from "d3-shape";

class Connection extends ClassicPreset.Connection<
  ClassicPreset.Node,
  ClassicPreset.Node
> {
  curve?: CurveFactory;
}

const pathPlugin = new ConnectionPathPlugin<Schemes, Area2D<Schemes>>({
  curve: (connection) => connection.curve || curveStep,
});

const monotoneConnection = new Connection(a, "port", b, "port");
const linearConnection = new Connection(a, "port", b, "port");

monotoneConnection.curve = curveMonotoneX;
linearConnection.curve = curveLinear;
```

Xem kết quả hoàn chỉnh tại ví dụ [Connection path](/examples/connection-path).
